<html><head>
  
  <title>Scribblish Text Editor</title>
</head>

<body>
  <h1>Scribblish: The Notetaking Language of the Future</h1>
  <h4>Scribblish was created out of a need to write less so that I could, write less. I'd like to see if anyone's interested in using this language for their own notes, so I'm making a text editor to help with that, as well! You can download the Scribblish text font on the github repo of this website, too.

  </h4><h2>Paste text:</h2>
  <form>
    <input type="text" id="inptxt">
  </form>
  <button onclick="clicked()">Submit</button>
  <button onclick="loadToDict()">LOAD TO DICT TEST BUTTON</button>

  <h2>Text output:</h2>
    <p id="outputTxt">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz</p>


  <link rel="stylesheet" href="Scribblestyle.css">
    

  <p>Version: 0.0.4.2</p>
  
    <script>
    // Define ScribbleDict as a global variable
    let ScribbleDict = null;

    // Load ScribbleDict when the page loads
    window.onload = async function() {
    if (ScribbleDict === null) { // Only load if it's not already loaded
        ScribbleDict = await loadToDict();
    }
    };
      //var ScribbleDict;
    async function clicked()
     {
       var outpt = document.getElementById('outputTxt');
       var inpt = document.getElementById('inptxt');
       var splitInpt = inpt.value.split(" ");
       var outputTxtArray = [];
       var temp;
       var tempToArray;

      if (ScribbleDict === null) 
      {
         console.log("ScribbleDict is still loading...");
         return; // Exit the function if it's not loaded
      }
       
       for (var i = 0;i<splitInpt.length;i++)
         {
           temp = splitInpt[i];
           if (!ScribbleDict[temp])
             {
               console.log(ScribbleDict[temp]+" was not recognized.");
               tempToArray = temp;
             }
           else
             {
               tempToArray = ScribbleDict[temp];
             }
           outputTxtArray.push(tempToArray);
         }
       var realOutTxt = outputTxtArray.join(""); // Use join to concatenate the array elementst += outputTxtArray[i];
       console.log(inpt.value);
       console.log(realOutTxt);
       outpt.innerHTML = realOutTxt;
     };
  async function loadToDict()
      {
        const response = await fetch('https://kubagurpl.github.io/Scribblishdict.language');
        const data = await response.text();
        var dataLineArray = data.split('\n');
        //fetch('https://kubagurpl.github.io/Scribblishdict.language')
        //.then(response => response.text())
        //.then(data => {
        var dataLineArray = data.split('\n');
        var dataMat = new Array();
        console.log(dataLineArray[0]);
        var temp;
        for (var i = 0;i<dataLineArray.length;i++)
          {
            temp = dataLineArray[i].split(" ");
            dataMat.push(temp);
            console.log(i);
            console.log(temp);
            console.log("----");
          }
        // Do something with the file content
        let ScribDict = {};
        for (var i = 0;i<dataMat.length;i++)
          {
            if (dataMat[i][2] == 0)
            {
              ScribDict[dataMat[i][0]] = dataMat[i][1];
            }
            console.log("hi"+i);
            console.log(ScribDict[dataMat[i][0]]);
          }
          console.log(data);
          //ScribDict;
          return ScribDict;
        //})
        //.catch(error => console.error('Error:', error));
      }
    </script>
  
   




</body></html>
